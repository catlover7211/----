<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球新聞搜索引擎 | TaiwanNewsSearch</title>
    <meta name="description" content="從全球各大新聞媒體搜尋最新新聞，提供台灣視角的全球新聞聚合平台">
    <meta name="keywords" content="新聞搜尋,台灣新聞,國際新聞,新聞搜索引擎,全球新聞">
    
    <!-- 網站圖標 -->
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    
    <!-- CSS 框架和字體 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flag-icons@6.11.0/css/flag-icons.min.css" rel="stylesheet">
    
    <!-- 自定義樣式 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
    <!-- 結構化數據 - JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "TaiwanNewsSearch",
      "url": "{{ request.url_root }}",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ request.url_root }}search?keyword={search_term}",
        "query-input": "required name=search_term"
      },
      "description": "從全球各大新聞媒體搜尋最新新聞，提供台灣視角的全球新聞聚合平台"
    }
    </script>
</head>
<body>
    <div class="container-fluid p-0">
        <header class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <a href="/" class="d-flex align-items-center text-decoration-none">
                            <i class="fas fa-newspaper me-2"></i>
                            <div>
                                <h1 class="site-title mb-0">TaiwanNewsSearch</h1>
                                <p class="site-description mb-0">搜尋全球新聞，了解台灣視角</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="system-status" id="system-status">
                        <div class="status-indicator">
                            <span class="status-badge online">
                                <i class="fas fa-circle"></i> 系統運行中
                            </span>
                        </div>
                        <span class="current-date" id="current-date">{{ current_date }}</span>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="search-section">
                <div class="container">
                    <div class="search-box">
                        <form id="search-form" autocomplete="off">
                            <div class="search-options">
                                <div class="search-type-selector">
                                    <label class="search-type-option">
                                        <input type="radio" name="search_type" value="local" checked>
                                        <span class="search-type-label">
                                            <i class="fas fa-map-marker-alt"></i> 台灣新聞
                                        </span>
                                    </label>
                                    <label class="search-type-option">
                                        <input type="radio" name="search_type" value="global">
                                        <span class="search-type-label">
                                            <i class="fas fa-globe"></i> 全球新聞
                                        </span>
                                    </label>
                                    <label class="search-type-option">
                                        <input type="radio" name="search_type" value="all">
                                        <span class="search-type-label">
                                            <i class="fas fa-th-large"></i> 全部來源
                                        </span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="search-input-wrapper">
                                <div class="search-input-container">
                                    <i class="fas fa-search search-icon"></i>
                                    <input 
                                        type="text" 
                                        id="keyword" 
                                        name="keyword" 
                                        placeholder="請輸入關鍵字搜尋新聞..." 
                                        autocomplete="off"
                                        required
                                    >
                                    <button type="button" class="clear-input-btn" id="clear-input" style="display: none;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <button type="submit" id="search-btn">搜尋</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- 熱門話題區 -->
            <section class="trending-section" id="trending-section">
                <div class="container">
                    <div class="trending-container">
                        <h2 class="section-title"><i class="fas fa-fire"></i> 熱門話題</h2>
                        <div class="trending-topics" id="trending-topics">
                            <div class="trending-loading">
                                <i class="fas fa-spinner fa-spin"></i> 加載熱門話題中...
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 新聞來源區 -->
            <section class="source-info">
                <div class="container">
                    <details>
                        <summary>
                            支援的新聞來源 <span class="source-count" id="source-count">28+</span>
                            <i class="fas fa-chevron-down"></i>
                        </summary>
                        
                        <div class="sources-list">
                            <div class="sources-category">
                                <h3><i class="fas fa-map-marker-alt"></i> 台灣新聞來源</h3>
                                <div class="source-tags">
                                    <span class="source-tag us">中央社</span>
                                    <span class="source-tag us">聯合新聞網</span>
                                    <span class="source-tag us">自由時報</span>
                                    <span class="source-tag us">ETtoday</span>
                                    <span class="source-tag us">風傳媒</span>
                                    <span class="source-tag us">TVBS新聞網</span>
                                    <span class="source-tag us">三立新聞網</span>
                                    <span class="source-tag us">新頭殼</span>
                                </div>
                            </div>
                            
                            <div class="sources-category">
                                <h3><i class="fas fa-globe-americas"></i> 美國/英語新聞來源</h3>
                                <div class="source-tags">
                                    <span class="source-tag us">紐約時報</span>
                                    <span class="source-tag us">CNN</span>
                                    <span class="source-tag us">華盛頓郵報</span>
                                    <span class="source-tag us">美聯社</span>
                                    <span class="source-tag uk">BBC News</span>
                                    <span class="source-tag uk">衛報</span>
                                    <span class="source-tag global">路透社</span>
                                </div>
                            </div>
                            
                            <div class="sources-category">
                                <h3><i class="fas fa-globe-asia"></i> 亞洲新聞來源</h3>
                                <div class="source-tags">
                                    <span class="source-tag jp">NHK</span>
                                    <span class="source-tag jp">朝日新聞</span>
                                    <span class="source-tag jp">讀賣新聞</span>
                                    <span class="source-tag kr">朝鮮日報</span>
                                    <span class="source-tag kr">中央日報</span>
                                    <span class="source-tag cn">新浪新聞</span>
                                    <span class="source-tag cn">網易新聞</span>
                                </div>
                            </div>
                            
                            <div class="sources-category">
                                <h3><i class="fas fa-globe-europe"></i> 歐洲及其他地區</h3>
                                <div class="source-tags">
                                    <span class="source-tag fr">法國24小時</span>
                                    <span class="source-tag au">澳洲廣播公司</span>
                                    <span class="source-tag qa">半島電視台</span>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>
            </section>
            
            <!-- 載入中指示器 -->
            <div id="loading" class="loading" style="display: none;">
                <div class="spinner"></div>
                <p>正在搜尋相關新聞...</p>
            </div>
            
            <!-- 搜尋統計 -->
            <section id="search-stats" class="search-stats" style="display: none;">
                <div class="container">
                    <div class="stats-container">
                        <div class="keyword-info">
                            搜尋：<span id="search-keyword" class="highlight"></span>
                        </div>
                        <div class="results-info">
                            找到 <span id="result-count" class="highlight">0</span> 個結果
                        </div>
                        <div id="search-mode-indicator"></div>
                    </div>
                </div>
            </section>
            
            <!-- 過濾選項 -->
            <section id="filter-options" class="filter-options" style="display: none;">
                <div class="container">
                    <div class="filters-container">
                        <div class="filter-group">
                            <label>語言：</label>
                            <div class="filter-buttons" id="language-filter">
                                <button class="filter-btn active" data-filter="all">全部</button>
                                <button class="filter-btn" data-filter="zh-TW">中文</button>
                                <button class="filter-btn" data-filter="en-US">英文</button>
                                <button class="filter-btn" data-filter="ja-JP">日文</button>
                                <button class="filter-btn" data-filter="ko-KR">韓文</button>
                            </div>
                        </div>
                        <div class="filter-group">
                            <label>國家/地區：</label>
                            <div class="filter-buttons" id="country-filter">
                                <button class="filter-btn active" data-filter="all">全部</button>
                                <button class="filter-btn" data-filter="台灣">台灣</button>
                                <button class="filter-btn" data-filter="美國">美國</button>
                                <button class="filter-btn" data-filter="日本">日本</button>
                                <button class="filter-btn" data-filter="英國">英國</button>
                                <button class="filter-btn" data-filter="中國">中國</button>
                                <button class="filter-btn" data-filter="其他">其他地區</button>
                            </div>
                        </div>
                        <div class="filter-group">
                            <label>時間：</label>
                            <div class="filter-buttons" id="time-filter">
                                <button class="filter-btn active" data-filter="all">全部</button>
                                <button class="filter-btn" data-filter="today">今天</button>
                                <button class="filter-btn" data-filter="week">本週</button>
                                <button class="filter-btn" data-filter="month">本月</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 搜尋結果容器 -->
            <section id="results" class="results-container">
                <div class="container">
                    <div class="results-placeholder" id="results-placeholder">
                        <div class="hero-section">
                            <div class="hero-content">
                                <h2>歡迎使用 TaiwanNewsSearch</h2>
                                <p>台灣視角的全球新聞搜尋引擎，輸入關鍵字開始探索世界。</p>
                                <ul class="feature-list">
                                    <li><i class="fas fa-check-circle"></i> 搜尋全球28+家主流新聞來源</li>
                                    <li><i class="fas fa-check-circle"></i> 多語言新聞與本地視角的國際資訊</li>
                                    <li><i class="fas fa-check-circle"></i> 即時更新的熱門話題與搜尋建議</li>
                                </ul>
                            </div>
                            <div class="hero-image">
                                <img src="{{ url_for('static', filename='hero-image.svg') }}" alt="世界新聞搜尋">
                            </div>
                        </div>
                        
                        <div class="quick-search-section">
                            <h3>熱門搜尋建議</h3>
                            <div class="quick-search-buttons">
                                <button class="quick-search-btn" data-keyword="台灣選舉">台灣選舉</button>
                                <button class="quick-search-btn" data-keyword="科技新聞">科技新聞</button>
                                <button class="quick-search-btn" data-keyword="全球經濟">全球經濟</button>
                                <button class="quick-search-btn" data-keyword="氣候變遷">氣候變遷</button>
                                <button class="quick-search-btn" data-keyword="健康醫療">健康醫療</button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="results-content"></div>
                </div>
            </section>
            
            <!-- 分頁控制 -->
            <section id="pagination" class="pagination-section">
                <div class="container">
                    <div class="pagination-container" id="paginationContainer" style="display: none;">
                        <div class="pagination-info">
                            顯示 <span id="pageStart">1</span>-<span id="pageEnd">10</span> / 共 <span id="totalResults">0</span> 結果
                        </div>
                        <div class="pagination-controls">
                            <button id="prevPage" class="pagination-button" disabled><i class="fas fa-chevron-left"></i> 上一頁</button>
                            <div id="pageIndicator" class="page-indicator">
                                第 <span id="currentPage">1</span> 頁，共 <span id="totalPages">1</span> 頁
                            </div>
                            <button id="nextPage" class="pagination-button" disabled>下一頁 <i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 無結果提示 -->
            <div id="no-results" class="no-results" style="display: none;">
                <div class="container">
                    <div class="no-results-content">
                        <i class="fas fa-search"></i>
                        <h3>沒有找到相關結果</h3>
                        <p>請嘗試使用不同的關鍵字或搜尋選項。</p>
                        <div class="suggestions">
                            <h4>您可以嘗試：</h4>
                            <ul>
                                <li>檢查關鍵字拼寫</li>
                                <li>使用較短、更一般性的關鍵字</li>
                                <li>嘗試使用全球搜尋而非僅限本地新聞</li>
                                <li>移除特殊字符或引號</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <i class="fas fa-newspaper"></i>
                        <span>TaiwanNewsSearch</span>
                    </div>
                    <p>© 2025 TaiwanNewsSearch | 整合全球新聞，提供台灣視角</p>
                    <div class="footer-links">
                        <a href="#" onclick="return false;">使用條款</a>
                        <a href="#" onclick="return false;">隱私政策</a>
                        <a href="#" onclick="return false;">關於我們</a>
                    </div>
                    <div class="disclaimer">
                        本站僅作為新聞搜尋引擎，所有內容版權歸原出處所有。
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
